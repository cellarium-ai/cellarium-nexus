/* Filters page custom styles */

/* Normalize and vertically center Select2 single selects within filters block */
#filters-block .select2-container .select2-selection--single {
  height: 36px !important;
  display: flex;
  align-items: center; /* center vertically */
  box-sizing: border-box;
}
#filters-block .select2-container .select2-selection--single .select2-selection__rendered {
  display: flex;
  align-items: center; /* center placeholder/value vertically */
  height: 100%;
  box-sizing: border-box;
  line-height: 1 !important; /* avoid baseline shifts */
  padding-top: 0 !important;
  padding-bottom: 0 !important;
  padding-left: 0.5rem !important; /* similar to px-2 */
  padding-right: 2rem !important;  /* make space for clear + arrow */
  width: 100%;
}
#filters-block .select2-container .select2-selection--single .select2-selection__placeholder {
  line-height: normal !important;
  align-self: center;
  display: block;
  width: 100%;
}
#filters-block .select2-container .select2-selection--single .select2-selection__rendered > span {
  align-self: center;
  display: inline-block;
}
#filters-block .select2-container .select2-selection--single .select2-selection__arrow {
  height: 36px !important;
  right: 0.35rem;
  top: 50%;
  transform: translateY(-50%);
}
#filters-block .select2-container .select2-selection--single .select2-selection__clear {
  position: absolute;
  right: 1.35rem;
  top: 50%;
  transform: translateY(-50%);
}
/* Hide clear (X) for value selects only */
#filters-block select[name^="filters-"][name$="-value"] + .select2 .select2-selection__clear {
  display: none !important;
}
/* Inputs already use h-9 class, ensure consistent box-sizing */
input.vTextField,
input[type="number"].vTextField {
  box-sizing: border-box;
  height: 36px;
  line-height: 36px;
  padding-top: 0;
  padding-bottom: 0;
}
/* Remove number input spin buttons for better visual alignment */
input[type="number"].vTextField::-webkit-outer-spin-button,
input[type="number"].vTextField::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type="number"].vTextField {
  -moz-appearance: textfield;
  appearance: textfield;
}

/* Ensure Unfold-like outlined buttons with rounded corners in filters block */
#filters-block #filters-apply,
#filters-block .filter-remove {
  /* rounded-md (6px) */
  border-radius: 0.375rem !important;
  height: 36px; /* h-9 */
  line-height: 1; /* avoid baseline shift */
  box-sizing: border-box;
  /* outlined border color matches Unfold base-300 */
  border-width: 1px;
  border-style: solid;
  border-color: rgb(var(--color-base-300));
}

/* Dark mode border tone to avoid bright white outline */
html.dark #filters-block #filters-apply,
html.dark #filters-block .filter-remove {
  border-color: rgb(var(--color-base-700));
}

/* Subtle hover background like Unfold secondary */
#filters-block #filters-apply:hover,
#filters-block .filter-remove:hover {
  background-color: rgb(var(--color-base-100));
}
html.dark #filters-block #filters-apply:hover,
html.dark #filters-block .filter-remove:hover {
  background-color: rgb(var(--color-base-800));
}

/* Ensure visible spacing between filter rows (Tailwind space-y may not be active) */
#filters-block #filters-rows .filter-row + .filter-row {
  margin-top: 0.5rem; /* ~ space-y-2 */
}

/* Dataset selector styles */
#dataset-selector .dataset-card {
  min-height: 2.75rem; /* ensure tap target but not too tall */
  border-radius: 0.75rem; /* rounded-lg */
  white-space: nowrap; /* keep names on one line */
}

/* Selected dataset description with truncation and expansion */
#selected-dataset-description {
  display: -webkit-box;
  -webkit-line-clamp: 1; /* show one line by default */
  line-clamp: 1; /* standard property for compatibility */
  -webkit-box-orient: vertical;
  overflow: hidden;
  white-space: normal;
}

#selected-dataset-description.expanded {
  display: block;
  -webkit-line-clamp: initial;
  line-clamp: initial; /* standard property for compatibility */
  -webkit-box-orient: initial;
  overflow: visible;
}

#dataset-desc-toggle {
  margin-top: 0.25rem;
  font-size: 0.75rem; /* text-xs */
  color: rgb(var(--color-primary-600));
  visibility: hidden; /* JS will set to visible if truncation occurs */
}
html.dark #dataset-desc-toggle {
  color: rgb(var(--color-primary-400));
}
